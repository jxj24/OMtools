% setroot: find the root data directory and set 'dataroot'% written by:  Jonathan Jacobs%              February 1997 - April 1998  (last mod: 04/14/98)% 21 March 2003: added '/' as sep character for MATLAB 6.5 (OS X, yay!)function setroot(~)curdir=pwd;[comp, ~] = computer;vers=version;%P = path;if comp(1) == 'M' && vers(1)<='5' % 'classic' Mac OS   sep  = ':';                   % between dirs in a single path   %sep2 = ';';                   % between path entrieselseif comp(1) == 'P'           % PC   sep  = '\';   %sep2 = ';';else                            % Unix (including Mac OS X)   sep  = '/';   %sep2 = ':';end% OMroot.txt and dataroot.txt live in omprefs diromprefpath = findomprefs;if ~isempty(omprefpath)   cd(omprefpath)else   disp('Can not find omprefs folder.')   cd(curdir)   returnend% find the root directories for the data files.badrootfile=0;datarootfid = fopen( 'dataroot.txt', 'r' );if datarootfid > 0   dataroot = char(fread(datarootfid))';   dataroot=strtok(dataroot,[10 13]);   if strcmp( dataroot(end),sep )      dataroot=dataroot(1:end-1);   end   fclose(datarootfid);else    badrootfile=1;end% go to the root directory for your data.rootbad=0;try   cd(dataroot); catch   rootbad=1;endif badrootfile || rootbad   fid=fopen('dataroot.txt','w');   cd('~/documents/MATLAB/')   mkdir('data')   dataroot = '~/Documents/MATLAB/data';   fwrite(fid, dataroot, 'char');   fclose(fid);   disp('<<<setroot.m>>>')   disp('"dataroot.txt" was missing from your omprefs folder.')   disp('I have created a new "data" directory inside your home MATLAB directory.')   disp('Feel free to modify it with a text editor.')   disp(' ')   returnendtry   eval(['cd ' '''' curdir ''''])catch   disp([curdir ' is not a valid directory.'])end