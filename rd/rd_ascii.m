% rd_ascii.m:  called by RD to handle whitespace delimited% ASCII data files (such as the MD data)% This m-file can read in multiple data files (of different% durations no less!) and assign them to columns, eg lh, rh, lv, etc.% written by:  Jonathan Jacobs%              September 1995 - February 2004  (last mod: 02/25/02)function data=rd_ascii(pathname,filename,adjbiasvals)% ASCII files do not have a header. We load adjustbias file% and interpret the specific params for the data file.% load the file and put the data into 'newdata' load(lower([pathname filename]),'-ascii') %#ok<LOAD>newdata = eval(lower(strtok(filename,'.')));[dat_len, ~] = size( newdata );if isempty(adjbiasvals)   %disp('Canceled.')   returnendif adjbiasvals.samp_freq ~= 0, samp_freq = adjbiasvals.samp_freq; end%chan_count = length(adjbiasvals.chName);chanlist='';for i=1:length(adjbiasvals.chName)   chanlist = cat(2,chanlist, [adjbiasvals.chName{i} ' ']);enddisp( ['Channels found:     ' chanlist])disp( ['Samples found:      ' num2str(dat_len)])disp( ['Sampling frequency: ' num2str(samp_freq) 'Hz'] );disp( ['Record duration:    ' num2str(dat_len/samp_freq) ' seconds'] );data.newdata   = newdata;data.samp_freq = samp_freq;data.comments  = '';% return to RD