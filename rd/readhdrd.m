% readhdrd.m:  reads the header information from % 'RETRIEVE' format files.  This is the DOS version.% written by: Jonathan Jacobs, based on code by Vallabh Das%             July 1995 - March 1996  (last mod: 03/05/96)%disp( 'Reading RTRV header...' )vers = fread(fid,1,'float32');       imon = fread(fid,1,'short');fseek(fid,2,'cof');iday = fread(fid,1,'short');fseek(fid,2,'cof');iyear = fread(fid,1,'short');fseek(fid,2,'cof');ihour = fread(fid,1,'short');fseek(fid,2,'cof');imin = fread(fid,1,'short');fseek(fid,2,'cof');%temp = fread(fid,64,'uchar');subj_name = char(fread(fid,64,'uchar')');%temp = fread(fid,64,'uchar');comments = char(fread(fid,64,'uchar')');%art_array = fread(fid,20,'uchar');art_array = fread(fid,20,'uchar')';ad_bits = fread(fid,1,'short');fseek(fid,2,'cof');ad_gain = fread(fid,1,'short');fseek(fid,2,'cof');degmax = fread(fid,1,'float32');if vers > 1.02                 % skip to # of channels   degmax2 = fread(fid,1,'float32');   degmax3 = fread(fid,1,'float32');   %fseek(fid,8,'cof');end%channels(this_entry) = fread(fid,1,'short');channels = fread(fid,1,'short');fseek(fid,2,'cof');start_channel = fread(fid,1,'short');fseek(fid,2,'cof');samp_freq = fread(fid,1,'float32');if channels(length(channels)) == 8   ch = 8; elseif channels(length(channels)) == 3   ch = 2; elseif channels(length(channels)) == 2   ch = 2;endarr_len = fread(fid,1,'short');fseek(fid,2,'cof');%idate(this_entry, :) = (char(imon,iday,iyear))';%itime(this_entry, :) = (char(ihour,imin))';idate(:) = char(imon,iday,iyear)';itime(:) = char(ihour,imin)';if vers > 1.02                 % skip to the data   fseek(fid,72,'cof');end